<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MVP Citations ‚Äî Fit du jour</title>
  <style>
    :root { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    body { margin: 0; background: #0b0c10; color: #eaf0ff; }
    .wrap { max-width: 520px; margin: 0 auto; padding: 16px; }
    .card { background: #11131a; border: 1px solid #1f2433; border-radius: 18px; padding: 16px; }
    h1 { font-size: 16px; margin: 0; letter-spacing: 0.2px; }
    h2 { font-size: 13px; margin: 16px 0 8px; opacity: 0.9; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    @media (max-width: 740px){ .row { grid-template-columns: 1fr; } }
    label { display: block; font-size: 13px; margin-bottom: 6px; opacity: 0.9; }
    select {
      width: 100%; padding: 10px 12px; border-radius: 12px;
      border: 1px solid #2a3145; background: #0c0e14; color: #eaf0ff;
      outline: none;
    }
    select:focus { border-color: #3a4663; }
    .muted { font-size: 12px; opacity: 0.75; line-height: 1.4; }
    .actions { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }
    button {
      border: 1px solid #2a3145; background: #0c0e14; color: #eaf0ff;
      padding: 10px 12px; border-radius: 12px; cursor: pointer;
    }
    button.primary { background: #1b3cff; border-color: #1b3cff; }
    button.small { padding: 8px 10px; border-radius: 999px; font-size: 12px; }
    button.link { background: transparent; border-color: transparent; opacity: 0.9; }
    button.link:hover { opacity: 1; }
    .quote {
      font-size: 22px; line-height: 1.45; padding: 18px 14px; margin-top: 14px;
      border-radius: 16px; border: 1px dashed #2a3145; background: #0c0e14;
    }
    .meta { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }
    .pill { font-size: 12px; padding: 6px 10px; border-radius: 999px; border: 1px solid #2a3145; opacity: 0.9; }
    .hr { height: 1px; background: #1f2433; margin: 18px 0; }
    .small { font-size: 12px; opacity: 0.8; }
    .right { text-align: right; }
    .grid2 { display:grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center; }

    .topbar { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px; }
    .brand { display: flex; flex-direction: column; gap: 2px; }
    .brand .sub { font-size: 12px; opacity: 0.75; }

    .panel {
      position: fixed; left: 0; right: 0; bottom: 0;
      background: #11131a; border-top: 1px solid #1f2433;
      border-radius: 18px 18px 0 0;
      padding: 14px 16px;
      max-width: 520px;
      margin: 0 auto;
      box-shadow: 0 -12px 40px rgba(0,0,0,0.35);
    }
    .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); }
    .hidden { display: none !important; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <h1>Fit du jour</h1>
      </div>
      <button class="small" id="btnOpenSettings" aria-label="Ouvrir les param√®tres" title="Param√®tres">‚öôÔ∏é</button>
    </div>

    <!-- Onboarding (1√®re visite) -->
    <div class="card" id="onboardingScreen" style="display:none;">
      <h2>Choisis ton style</h2>
      <div class="muted">On s‚Äôen sert pour te proposer des citations qui te conviennent. Tu pourras modifier plus tard dans les param√®tres.</div>

      <div class="row" style="margin-top:12px;">
        <div>
          <label for="obTone">Ton pr√©f√©r√©</label>
          <select id="obTone">
            <option value="">‚Äî</option>
            <option value="accompagnant">Accompagnant (doux)</option>
            <option value="neutre">Neutre (simple)</option>
            <option value="direct">Direct (franc)</option>
            <option value="sto√Øque">Sto√Øque (pos√©)</option>
            <option value="po√©tique">Po√©tique (imag√©)</option>
          </select>
          <div class="muted">Le ‚Äúton‚Äù = la mani√®re dont la phrase te parle.</div>
        </div>
        <div>
          <label for="obEnergy">√ânergie max</label>
          <select id="obEnergy">
            <option value="1">1 (tr√®s doux)</option>
            <option value="2" selected>2 (√©quilibr√©)</option>
            <option value="3">3 (tout)</option>
          </select>
          <div class="muted">C‚Äôest un <b>garde-fou</b> : si ton √©nergie max est 1, on √©vite les citations ‚Äúcoup de boost‚Äù. Si elle est 3, tout est possible.</div>
        </div>
      </div>

      <div class="actions">
        <button class="primary" id="btnFinishOnboarding">Continuer</button>
      </div>
    </div>

    <!-- Flow principal (si onboarding d√©j√† fait) -->
    <div class="card" id="mainScreen" style="display:none;">
      <h2>1) Dis-moi ton besoin</h2>
      <div class="row">
        <div>
          <label for="need">Besoin</label>
          <select id="need">
            <option value="">‚Äî</option>
            <option value="calme">Calme</option>
            <option value="r√©confort">R√©confort</option>
            <option value="clart√©">Clart√©</option>
            <option value="√©lan">√âlan</option>
            <option value="l√¢cher-prise">L√¢cher-prise</option>
            <option value="perspective">Perspective</option>
          </select>
        </div>
        <div>
          <label for="mood">Humeur</label>
          <select id="mood">
            <option value="">‚Äî</option>
            <option value="bien">Bien</option>
            <option value="neutre">Neutre</option>
            <option value="fatigu√©">Fatigu√©</option>
            <option value="stress√©">Stress√©</option>
            <option value="triste">Triste</option>
            <option value="motiv√©">Motiv√©</option>
          </select>
        </div>
      </div>

      <div class="actions">
        <button class="primary" id="btnGetQuote">Voir ma citation</button>
      </div>

      <div id="quoteBox" class="quote" style="display:none;"></div>
      <div class="actions" id="detailsRow" style="display:none;">
        <button class="small" id="btnToggleDetails">D√©tails</button>
      </div>
      <div id="detailsBox" class="card" style="display:none; margin-top:10px;"></div>

      <div class="actions" id="feedbackRow" style="display:none;">
        <button id="btnUp">üëç √áa m‚Äôa parl√©</button>
        <button id="btnMid">üòê OK</button>
        <button id="btnDown">üëé Pas du tout</button>
      </div>
      <div class="hr"></div>
      <div class="small right" id="tinyFoot">Set : 72 citations FR tagu√©es.</div>
    </div>
  </div>

  <!-- Param√®tres -->
  <div id="settingsOverlay" class="overlay hidden"></div>
  <div id="settingsPanel" class="panel hidden" role="dialog" aria-modal="true" aria-label="Param√®tres">
    <div class="grid2">
      <h2 style="margin:0;">Param√®tres</h2>
      <button class="small link" id="btnCloseSettings">Fermer</button>
    </div>
    <div class="muted" style="margin-top:8px;">Ici, tu peux modifier ton ton pr√©f√©r√© et ton √©nergie max.</div>
    <div class="row" style="margin-top:12px;">
      <div>
        <label for="setTone">Ton pr√©f√©r√©</label>
        <select id="setTone">
          <option value="">‚Äî</option>
          <option value="accompagnant">Accompagnant (doux)</option>
          <option value="neutre">Neutre (simple)</option>
          <option value="direct">Direct (franc)</option>
          <option value="sto√Øque">Sto√Øque (pos√©)</option>
          <option value="po√©tique">Po√©tique (imag√©)</option>
        </select>
      </div>
      <div>
        <label for="setEnergy">√ânergie max</label>
        <select id="setEnergy">
          <option value="1">1 (tr√®s doux)</option>
          <option value="2">2 (√©quilibr√©)</option>
          <option value="3">3 (tout)</option>
        </select>
        <div class="muted">Garde-fou : limite l‚Äôintensit√© des citations. 1 = tr√®s soft, 2 = mod√©r√©, 3 = sans limite.</div>
      </div>
    </div>
    <div class="actions">
      <button class="primary" id="btnSaveSettings">Enregistrer</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
